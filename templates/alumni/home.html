{% extends 'shared/base.html' %}
{% load static %}

{% block title %}MSU International & Alumni Relations Office - Home{% endblock %}

{% block hero_content %}
<style>
    body, html { 
        margin: 0 !important; 
        padding: 0 !important; 
        overflow-x: hidden !important;
    }
    body > *:not(header) {
        margin: 0 !important;
        padding: 0 !important;
    }
    header { 
        margin: 0 !important; 
        padding: 0 !important; 
    }
    .hero-container {
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        line-height: 0;
        display: block !important;
    }
    .hero-container > div {
        margin: 0 !important;
        padding: 0 !important;
    }
    .hero-container {
        width: 100%;
        height: 450px; /* Adjusted height per feedback */
        position: relative;
        overflow: hidden;
    }

    .hero-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        display: block;
    }
</style>
<div class="hero-container">
    <div style="position: relative; height: 100%; margin: 0 !important; padding: 0 !important; display: block;">
        <img src="{% static 'images/iaro_flags.png' %}" alt="MSU IARO Flags" style="width: 100%; height: 100%; object-fit: cover; margin: 0 !important; padding: 0 !important; display: block;">
        <div style="position: absolute; bottom: 0; left: 0; right: 0; width: 100%; padding: 1.5rem 0; background-color: rgba(0, 0, 0, 0.5); color: white; margin: 0 !important;">
            <div style="max-width: 1280px; margin: 0 auto; padding: 0 1.5rem;">
                <div style="max-width: 800px;">
                    <h1 style="font-size: 1.75rem; line-height: 2.25rem; font-weight: 700; margin: 0 0 0.75rem 0 !important; padding: 0 !important; text-shadow: 0 1px 3px rgba(0,0,0,0.3);">International & Alumni Relations Office</h1>
                    <p style="font-size: 1.25rem; line-height: 1.75rem; margin: 0 0 1.5rem 0 !important; padding: 0 !important; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">TAKING MSU TO THE WORLD AND BRINGING THE WORLD TO MSU</p>
                    <div class="flex flex-wrap gap-3">
                        <a href="{% url 'alumni:register' %}" class="inline-block px-8 py-3 text-lg font-semibold rounded-md shadow bg-msu-blue text-white hover:bg-blue-700 transform hover:-translate-y-0.5 transition focus:outline-none focus:ring-2 focus:ring-offset-2">
                            Join Our Alumni Network
                        </a>
                        <a href="{% url 'alumni:quick_update' %}" class="inline-block px-8 py-3 text-lg font-semibold rounded-md shadow bg-yellow-400 text-gray-900 hover:bg-yellow-300 transform hover:-translate-y-0.5 transition animate-bounce focus:outline-none focus:ring-2 focus:ring-offset-2">
                            Update My Details
                        </a>
                        <a href="{% url 'alumni:donate' %}" class="inline-block px-8 py-3 text-lg font-semibold rounded-md shadow bg-green-600 text-white hover:bg-green-700 transform hover:-translate-y-0.5 transition animate-pulse focus:outline-none focus:ring-2 focus:ring-offset-2">
                            Donate Now
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
    
    <!-- IARO Section -->
    <div class="py-10 px-4 sm:px-8 lg:px-16 xl:px-32 2xl:px-48 bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                {% if iaro %}
                <!-- IARO Content -->
                <div class="relative pl-4 border-l-2 border-msu-blue">
                    <h2 class="text-lg font-bold text-msu-blue mb-3">International & Alumni Relations Office</h2>
                    <p class="text-xs text-gray-600 italic leading-relaxed">{{ iaro.description }}</p>
                </div>
                
                <!-- Vision -->
                <div class="relative pl-4 border-l-2 border-yellow-500">
                    <h3 class="text-base font-semibold text-gray-700 mb-2">Our Vision</h3>
                    <p class="text-xs text-gray-600 italic leading-relaxed">{{ iaro.vision }}</p>
                </div>
                
                <!-- Alumni Benefits -->
                <div class="relative pl-4 border-l-2 border-green-600">
                    <h3 class="text-base font-semibold text-msu-blue mb-2">Alumni Benefits</h3>
                    <ul class="space-y-2 text-xs text-gray-600">
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">•</span>
                            <span>Career services & job opportunities</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">•</span>
                            <span>Exclusive events & workshops</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">•</span>
                            <span>Global networking</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">•</span>
                            <span>Campus facility access</span>
                        </li>
                    </ul>
                    <a href="{% url 'alumni:register' %}" class="mt-3 text-xs text-msu-blue hover:underline font-medium inline-flex items-center">
                        Join Network →
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- Featured Content Section -->
    <div class="mt-12 px-4 sm:px-8 lg:px-16 xl:px-32 2xl:px-48">
        <h2 class="text-2xl font-bold mb-6 border-b-2 border-msu-blue pb-2">Latest Updates</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Newsletters Section -->
            <div>
                <h3 class="text-xl font-semibold mb-4 text-msu-blue">Recent Newsletters</h3>
                {% if newsletters %}
                <div class="space-y-4">
                    {% for newsletter in newsletters %}
                     <div class="bg-white rounded-lg ring-1 ring-gray-200 shadow-sm overflow-hidden flex transition transform hover:-translate-y-0.5">
                         <div class="h-24 w-24 flex-shrink-0 overflow-hidden">
                             {% if newsletter.attachment %}
                             <img src="{{ newsletter.attachment.url }}" alt="{{ newsletter.title }}" class="object-cover w-full h-full">
                             {% else %}
                             <img src="{% static 'images/newsletter_placeholder.svg' %}" alt="Newsletter image" class="object-cover w-full h-full">
                             {% endif %}
                         </div>
                         <div class="p-4 flex-1">
                             <h4 class="font-medium text-sm md:text-base mb-0.5">{{ newsletter.title }}</h4>
                             <p class="text-[11px] text-gray-500 mb-1">{{ newsletter.published_date|date:"F d, Y" }}</p>
                             <a href="{% url 'alumni:newsletter_detail' newsletter.id %}" class="text-xs text-msu-blue hover:underline">Read more</a>
                         </div>
                     </div>
                    {% endfor %}
                </div>
                <a href="{% url 'alumni:newsletters' %}" class="mt-4 mb-12 inline-flex items-center gap-1 px-5 py-2.5 bg-msu-blue text-white text-sm font-semibold rounded-full shadow hover:bg-blue-700 transition">View all newsletters&nbsp;&rarr;</a>
                {% else %}
                <p>No newsletters available at the moment.</p>
                {% endif %}
            </div>
            
            <!-- Events Section -->
            <div>
                <h3 class="text-xl font-semibold mb-4 text-msu-blue">Upcoming Events</h3>
                {% if upcoming_events %}
                <div class="space-y-4">
                    {% for event in upcoming_events %}
                     <div class="bg-white rounded-lg ring-1 ring-gray-200 shadow-sm overflow-hidden flex transition transform hover:-translate-y-0.5">
                         <div class="h-24 w-24 flex-shrink-0 overflow-hidden relative">
                             {% if event.image %}
                             <img src="{{ event.image.url }}" alt="{{ event.title }}" class="object-cover w-full h-full">
                             {% else %}
                             <img src="{% static 'images/event_placeholder.svg' %}" alt="Event image" class="object-cover w-full h-full">
                             {% endif %}
                             <span class="absolute bottom-0 left-0 bg-msu-blue text-white text-[10px] px-1 py-0.5">{{ event.date|date:"d M" }}</span>
                         </div>
                         <div class="p-4 flex-1">
                             <h4 class="font-medium text-sm md:text-base mb-0.5">{{ event.title }}</h4>
                             <p class="text-[11px] text-gray-500 mb-1">{{ event.date|date:"F d, Y" }}{% if event.location %} • {{ event.location }}{% endif %}</p>
                             <a href="{% url 'alumni:event_detail' event.id %}" class="text-xs text-msu-blue hover:underline">Read more</a>
                         </div>
                     </div>
                    {% endfor %}
                </div>
                <a href="{% url 'alumni:events' %}" class="mt-4 mb-12 inline-flex items-center gap-1 px-5 py-2.5 bg-msu-blue text-white text-sm font-semibold rounded-full shadow hover:bg-blue-700 transition">View all events&nbsp;&rarr;</a>
                {% else %}
                <p>No upcoming events at the moment.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}